<div class="block is-padded">
  <button class="button is-larger is-full" ng-click="showingPublish = !showingPublish">
    <span analytics-on="click" analytics-event="Enter sign up" analytics-category="Sign up">
      <svg role="presentation"><use xlink:href="#arrow-out"></use></svg> Publish this website
    </span>
  </button>

  <div class="modal createUser" ng-show="showingPublish" ng-cloak>
    <p class="close" ng-click="showingPublish = !showingPublish"><a>Ã—</a></p>
    <h3>Just one more step...</h3>

    <form name="publish" class="form" ng-submit="validatePublish()" method="post" novalidate>
      <div class="block" style="position: relative;">
        <input type="text"
               name="username"
               ng-model="user.username"
               required
               ng-pattern="/[a-zA-Z0-9\-_]/"
               ng-maxlength="150"
               placeholder="Website address"
               autocapitalize="off"
               autocomplete="off"
               autocorrect="off">
        <p ng-show="publish.username.error" class="form-error">[[publish.username.error]]</p>
        <span style="text-align: center; display: block; margin: 9px 0 0; color: #bababa">posti.es/by/<span ng-hide="user.username">something</span>[[user.username]]</span>
      </div>

      <div class="block" style="position: relative;">
        <input type="email"
              name="email"
              ng-model="user.email"
              required
              placeholder="Email"
              autocapitalize="off"
              autocomplete="off"
              autocorrect="off">
        <p ng-show="publish.email.error" class="form-error">[[publish.email.error]]</p>
      </div>

      <div class="block" style="position: relative;">
        <input type="password"
               name="password"
               ng-model="user.password"
               required
               ng-maxlength="100"
               placeholder="Password"
               autocapitalize="off"
               autocomplete="off"
               autocorrect="off">
        <p ng-show="publish.password.error" class="form-error">[[publish.password.error]]</p>
      </div>

      <div class="block is-padded" style="padding-top: 15px;">
        <button class="button is-larger is-full" type="submit" ng-disabled="publish.loading" analytics-on="click" analytics-event="Try publish" analytics-category="Sign up">
          <div ng-hide="publish.loading">
            <svg role="presentation"><use xlink:href="#arrow-out"></use></svg> Publish now!
          </div>
          <span ng-show="publish.loading">[[publish.loadingText]]</span>
        </button>
      </div>
    </form>
  </div>
</div>
